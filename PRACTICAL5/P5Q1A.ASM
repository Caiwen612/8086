; LAB1: HARDWARE + SOFTWARE
; LAB 2: DEBUG PROGRAM
; LAB 3: I/O B/S + CALC
; LAB 4: LOOP
; lab 5: CMP + JCOND = IF-ELSE
;        CMP + JCOND = VALIDATION
;        SCREEN MONITORING    
; LAB 6 AND ONWARD: LINUX 
;-----------------------------------
;TO MARK THE END OF A STR/ARRAY: "$"
;TO MARK THE END OF A STR/ARRAY: CX+ LOOP
; TO MARK THE END OF A STR/ARRAY: VMP+JCOND
.MODEL SMALL 
.STACK 100 
.DATA
 NUM DB 1,2,3,4,5
 STR1 DB "SUM: $"
 STR2 DB 13,10,"AVE: $"
 TTL DB 0
 TEN DB 10
 FIV DB 5
 Q  DB 0
 R DB 0


.CODE 
MAIN PROC 
 MOV AX,@DATA 
 MOV DS,AX
;----CALC
 MOV AX,0 ;CLEAR 0
 MOV CX,5
 MOV SI,0       
CALC:
 ADD AL,NUM[SI]
 INC SI
 LOOP CALC
 MOV TTL,AL   ;TTL=15
 
;----PRINT SUM
 MOV AH,09H
 LEA DX,STR1
 INT 21H

 MOV AX,0 ;CLEAR AX
 MOV AL,TTL; 1 BYTE SO USE AL         
 DIV TEN ;THIS MUST USE VARIABLE, CANNOT USE VALUE ;AX=R(AH)Q(AL)

 MOV Q,AL ;Q=1
 MOV R,AH ;R=5

 ADD Q,30H ;Q=31H
 ADD R,30H ;R=35H

 MOV AH,02H
 MOV DL,Q ;DL=Q=31H=ASC-I
 INT 21H

 MOV AH,02H
 MOV DL,R ;DL=R=35H=ASCII-5
 INT 21H

;----PRINT AVE
 MOV AH,09H
 LEA DX,STR2
 INT 21H

 MOV AX,0 ;CLEAR AX
 MOV AL,TTL; 1 BYTE SO USE AL         
 DIV FIV ;THIS MUST USE VARIABLE OR REGISTER ,CANNOT USE VALUE ;AX=R(AH)Q(AL)

 MOV Q,AL ;Q=3
 MOV R,AH ;R=0

 ADD Q,30H ;Q=33H
 ADD R,30H ;R=30H

 MOV AH,02H
 MOV DL,Q ;DL=Q=33H=ASCII-3
 INT 21H

 MOV AH,02H
 MOV DL,'.'
 INT 21H

 MOV AH,02H
 MOV DL,R ;DL=R=30H=ASCII-0
 INT 21H


 MOV AH,4CH 
 INT 21H 
MAIN ENDP 
 END MAIN