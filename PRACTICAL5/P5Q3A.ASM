; TO MARK THE END OF THE STRING/ELEMENT: "$"
; TO MARK THE END OF THE STRING/ELEMENT: CX
; TO MARK THE END OF THE STRING/ELEMENT: CMP SI
.MODEL SMALL
.STACK 100
.DATA
    UNAME DB "BACS"
    UPSW  DB "1024"
    STR1  DB 13,10,13,10,"USERNAME: $"
    STR2  DB 13,10,"PASSWORD: $"
    IMSG  DB 13,10, "INVALID LOGIN! $"
    VMSG  DB 13,10, "ACCESS GRANTED! $"
    INAME DB 4 DUP (?)
    IPSW  DB 4 DUP (0)
    COUNT DB 0
.CODE
MAIN PROC
   MOV AX,@DATA 
   MOV DS,AX
   
START:
 CMP COUNT,3
 JE EXIT
;---OUTPUT STRING:09H(STR1)
 MOV AH,09H
 LEA DX,STR1
 INT 21H
;---INPUT BYTE:01H(INAME[SI])
    MOV CX,4    ;CX=4
    MOV SI,0    ;SI=0
GETINAME:
    MOV AH,01H
    INT 21H     ;AL="B","A","C","S"
    MOV INAME[SI],AL ;INAME[SI]="B","A","C","S"
    INC SI              ;SI = 1,2,3,4
    LOOP GETINAME       ;CX=3,2,1,0

;---OUTPUT STRING:09H(STR2)
 MOV AH,09H
 LEA DX,STR2
 INT 21H
;---INPUT BYTE:01H(IPSW[SI])
    MOV CX,4
    MOV SI,0
GETIPSW:
    MOV AH,01H
    INT 21H
    MOV IPSW[SI],AL
    INC SI
    LOOP GETIPSW

;---CHECK FOR VALIDATION FOR USER NAME
MOV SI,0
MOV DI,0
CHKNAME:
    CMP SI,4
    JE CHKPSW
    MOV BL,INAME[SI]
    CMP BL,UNAME[SI] ;CMP INAME[SI],UNAME[SI], THIS ONE CANNOT BCAUSE TWO MEMORY,NEED USE 1 REGISTER
    JE NEXTNAME
    JNE PRINTI

NEXTNAME:
    INC SI 
    JMP CHKNAME

CHKPSW:
    CMP DI,4
    JE PRINTV
    MOV BL,IPSW[DI]
    CMP BL,UPSW[DI] ;CMP INAME[SI],UNAME[SI], THIS ONE CANNOT BCAUSE TWO MEMORY,NEED USE 1 REGISTER
    JE NEXTPSW
    JNE PRINTI

NEXTPSW:
    INC DI
    JMP CHKPSW

PRINTV:
    MOV AH,09H
    LEA DX,VMSG
    INT 21H
    JMP EXIT

PRINTI:
    MOV AH,09H
    LEA DX,IMSG
    INT 21H
    INC COUNT
    JMP START

EXIT:
    MOV AH,4CH
	INT 21H
MAIN ENDP
	END MAIN